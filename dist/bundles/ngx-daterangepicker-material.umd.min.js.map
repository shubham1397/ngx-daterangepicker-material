{"version":3,"sources":["../../node_modules/tslib/tslib.es6.js","../../src/daterangepicker/daterangepicker.component.ts","../../src/daterangepicker/daterangepicker.directive.ts","../../src/daterangepicker/daterangepicker.config.ts","../../src/daterangepicker/locale.service.ts","../../src/daterangepicker/daterangepicker.module.ts"],"names":["__decorate","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__read","o","n","m","Symbol","iterator","e","call","ar","next","done","push","value","error","SideEnum","moment","_moment","DaterangepickerComponent","DaterangepickerComponent_1","el","_ref","_localeService","this","_old","start","end","calendarVariables","left","right","tooltiptext","timepickerVariables","daterangepicker","FormControl","applyBtn","disabled","startDate","startOf","endDate","endOf","dateLimit","sideEnum","autoApply","singleDatePicker","showDropdowns","showWeekNumbers","showISOWeekNumbers","linkedCalendars","autoUpdateInput","alwaysShowCalendars","maxSpan","lockStartDate","timePicker","timePicker24Hour","timePickerIncrement","timePickerSeconds","showClearButton","firstMonthDayClass","lastMonthDayClass","emptyWeekRowClass","emptyWeekColumnClass","firstDayOfNextMonthClass","lastDayOfPreviousMonthClass","_locale","_ranges","showCancel","keepCalendarOpeningWithRange","showRangeLabelOnInput","customRangeDirection","rangesArray","isShown","inline","leftCalendar","rightCalendar","showCalInRanges","nowHoveredDate","pickingDate","options","closeOnAutoApply","choosedDate","EventEmitter","rangeClicked","datesUpdated","startDateChanged","endDateChanged","cancelClicked","prototype","isMoment","_minDate","getMinDate","_maxDate","getMaxDate","assign","config","renderRanges","ngOnInit","_buildLocale","daysOfWeek","concat","__spread","locale","firstDay","shift","clone","setStartDate","renderTimePicker","setEndDate","updateMonthsInView","renderCalendar","ranges","range","format","isBefore","maxDate","add","isAfter","elem","document","createElement","innerHTML","rangeHtml","showCustomRangeLabel","customRangeLabel","side","selected","minDate","_getDateWithTime","hours","minutes","minutesLabel","seconds","secondsLabel","disabledHours","disabledMinutes","disabledSeconds","selectedHour","selectedMinute","selectedSecond","i_in_24","hour","time","minute","padded","second","amDisabled","pmDisabled","ampmModel","mainCalendar","month","year","daysInMonth","lastDay","lastMonth","subtract","lastYear","daysInLastMonth","dayOfWeek","day","calendar","startDay","curDate","col","row","maxLimit","calRows","Array","from","keys","calCols","classes","currentMonth","currentYear","realCurrentYear","maxYear","minYear","inMinYear","inMaxYear","years","y","dropdowns","monthArrays","yearArrays","_buildCells","Math","round","floor","updateElement","emit","isInvalidDate","date","isCustomDate","isTooltipDate","updateView","updateCalendars","calculateChosenLabel","displayFormat","chosenRange","chosenLabel","separator","remove","customRange","clickApply","console","log","hide","clickCancel","monthChanged","monthEvent","parseInt","monthOrYearChanged","yearChanged","yearEvent","timeChanged","timeEvent","ampm","isLeft","clickPrev","clickNext","hoverDate","leftCalDate","rightCalDate","tooltip","setAttribute","clickDate","tagName","classList","contains","parentElement","stopPropagation","clickRange","label","dates","isSame","nextMonth","show","detectChanges","handleInternalClick","updateLocale","hasOwnProperty","clear","disableRange","_this","rangeMarkers","areBothBefore","every","areBothAfter","localeData","longDateFormat","this_1","rowClasses","some","Date","isoWeekday","find","isCustom","apply","isTooltip","cname","replace","join","Input","Output","ViewChild","static","Component","selector","template","host","(click)","encapsulation","ViewEncapsulation","None","providers","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","multi","DaterangepickerDirective","DaterangepickerDirective_1","viewContainerRef","_changeDetectorRef","_componentFactoryResolver","_el","_renderer","differs","elementRef","_onChange","Function","_onTouched","_validatorChange","_endKey","_startKey","notForChangesProperty","onChange","drops","opens","componentFactory","resolveComponentFactory","componentRef","createComponent","picker","instance","_value","val","markForCheck","_disabled","asObservable","subscribe","itemChanged","change","nativeElement","localeDiffer","create","ngOnChanges","changes","indexOf","currentValue","ngDoCheck","diff","onBlur","open","event","setTimeout","setPosition","toggle","writeValue","setValue","registerOnChange","fn","registerOnTouched","setDisabledState","state","style","containerTop","container","pickerContainer","element","offsetTop","clientHeight","top","offsetLeft","clientWidth","position","setStyle","inputChanged","toLowerCase","dateString","split","isValid","outsideClick","HostBinding","HostListener","Directive","(keyup.esc)","(blur)","(keyup)","paramIndex","decorator","LOCALE_CONFIG","InjectionToken","DefaultLocaleConfig","direction","weekLabel","applyLabel","cancelLabel","clearLabel","weekdaysMin","monthNames","monthsShort","firstDayOfWeek","LocaleService","_config","Injectable","Inject","NgxDaterangepickerMd","NgxDaterangepickerMd_1","forRoot","ngModule","useValue","useClass","deps","NgModule","declarations","imports","CommonModule","FormsModule","ReactiveFormsModule","exports","entryComponents"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { ChangeDetectorRef, Component, ElementRef, EventEmitter, forwardRef, Input, OnInit, Output, ViewChild, ViewEncapsulation } from '@angular/core';\r\nimport { FormControl, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport * as _moment from 'moment';\r\nimport { LocaleConfig } from './daterangepicker.config';\r\nimport { LocaleService } from './locale.service';\r\n\r\nconst moment = _moment;\r\n\r\nexport enum SideEnum {\r\n    left = 'left',\r\n    right = 'right'\r\n}\r\n\r\n@Component({\r\n    selector: 'ngx-daterangepicker-material',\r\n    styleUrls: ['./daterangepicker.component.scss'],\r\n    templateUrl: './daterangepicker.component.html',\r\n    host: {\r\n    '(click)': 'handleInternalClick($event)',\r\n    },\r\n    encapsulation: ViewEncapsulation.None,\r\n    providers: [{\r\n        provide: NG_VALUE_ACCESSOR,\r\n        useExisting: forwardRef(() => DaterangepickerComponent),\r\n        multi: true\r\n    }]\r\n})\r\nexport class DaterangepickerComponent implements OnInit {\r\n    private _old: {start: any, end: any} = {start: null, end: null};\r\n    chosenLabel: string;\r\n    calendarVariables: {left: any, right: any} = {left: {}, right: {}};\r\n    tooltiptext = [];  // for storing tooltiptext\r\n    timepickerVariables: {left: any, right: any} = {left: {}, right: {}};\r\n    daterangepicker: {start: FormControl, end: FormControl} = {start: new FormControl(), end: new FormControl()};\r\n    applyBtn: {disabled: boolean} = {disabled: false};\r\n    @Input()\r\n    startDate = moment().startOf('day');\r\n    @Input()\r\n    endDate = moment().endOf('day');\r\n\r\n    @Input()\r\n    dateLimit: number = null;\r\n    // used in template for compile time support of enum values.\r\n    sideEnum = SideEnum;\r\n\r\n    _minDate: _moment.Moment;\r\n    @Input()\r\n    set minDate(value: _moment.Moment | string) {\r\n        if (_moment.isMoment(value)) {\r\n            this._minDate = value;\r\n        }\r\n        else if (typeof value === 'string') {\r\n            this._minDate = moment(value)\r\n        } else {\r\n            this._minDate = null;\r\n        }\r\n    };\r\n    getMinDate(): _moment.Moment | null {\r\n        return this._minDate;\r\n    }\r\n\r\n    _maxDate: _moment.Moment;\r\n    @Input()\r\n    set maxDate(value: _moment.Moment | string) {\r\n        if (_moment.isMoment(value)) {\r\n            this._maxDate = value;\r\n        }\r\n        else if (typeof value === 'string') {\r\n            this._maxDate = moment(value)\r\n        } else {\r\n            this._maxDate = null;\r\n        }\r\n    }\r\n    getMaxDate(): _moment.Moment | null {\r\n        return this._maxDate;\r\n    }\r\n\r\n    @Input()\r\n    autoApply: Boolean = false;\r\n    @Input()\r\n    singleDatePicker: Boolean = false;\r\n    @Input()\r\n    showDropdowns: Boolean = false;\r\n    @Input()\r\n    showWeekNumbers: Boolean = false;\r\n    @Input()\r\n    showISOWeekNumbers: Boolean = false;\r\n    @Input()\r\n    linkedCalendars: Boolean = false;\r\n    @Input()\r\n    autoUpdateInput: Boolean = true;\r\n    @Input()\r\n    alwaysShowCalendars: Boolean = false;\r\n    @Input()\r\n    maxSpan: Boolean = false;\r\n    @Input()\r\n    lockStartDate: Boolean = false;\r\n    // timepicker variables\r\n    @Input()\r\n    timePicker: Boolean = false;\r\n    @Input()\r\n    timePicker24Hour: Boolean = false;\r\n    @Input()\r\n    timePickerIncrement = 1;\r\n    @Input()\r\n    timePickerSeconds: Boolean = false;\r\n    // end of timepicker variables\r\n    @Input()\r\n    showClearButton: Boolean = false;\r\n    @Input()\r\n    firstMonthDayClass: string = null;\r\n    @Input()\r\n    lastMonthDayClass: string = null;\r\n    @Input()\r\n    emptyWeekRowClass: string = null;\r\n    @Input()\r\n    emptyWeekColumnClass: string = null;\r\n    @Input()\r\n    firstDayOfNextMonthClass: string = null;\r\n    @Input()\r\n    lastDayOfPreviousMonthClass: string = null;\r\n\r\n    _locale: LocaleConfig = {};\r\n    @Input() set locale(value) {\r\n      this._locale = {...this._localeService.config, ...value};\r\n    }\r\n    get locale(): any {\r\n      return this._locale;\r\n    }\r\n    // custom ranges\r\n    _ranges: any = {};\r\n\r\n    @Input() set ranges(value) {\r\n        this._ranges = value;\r\n        this.renderRanges();\r\n    }\r\n    get ranges(): any {\r\n        return this._ranges;\r\n    }\r\n\r\n    @Input()\r\n    showCustomRangeLabel: boolean;\r\n    @Input()\r\n    showCancel = false;\r\n    @Input()\r\n    keepCalendarOpeningWithRange = false;\r\n    @Input()\r\n    showRangeLabelOnInput = false;\r\n    @Input()\r\n    customRangeDirection = false;\r\n    chosenRange: string;\r\n    rangesArray: Array<any> = [];\r\n\r\n    // some state information\r\n    isShown: Boolean = false;\r\n    inline = true;\r\n    leftCalendar: any = {};\r\n    rightCalendar: any = {};\r\n    showCalInRanges: Boolean = false;\r\n    nowHoveredDate = null;\r\n    pickingDate: boolean = false;\r\n    options: any = {} ; // should get some opt from user\r\n    @Input() drops: string;\r\n    @Input() opens: string;\r\n    @Input() closeOnAutoApply = true;\r\n    @Output() choosedDate: EventEmitter<Object>;\r\n    @Output() rangeClicked: EventEmitter<Object>;\r\n    @Output() datesUpdated: EventEmitter<Object>;\r\n    @Output() startDateChanged: EventEmitter<Object>;\r\n    @Output() endDateChanged: EventEmitter<Object>;\r\n    @Output() cancelClicked: EventEmitter<Object>;\r\n    @ViewChild('pickerContainer', { static: true }) pickerContainer: ElementRef;\r\n\r\n    constructor(\r\n        private el: ElementRef,\r\n        private _ref: ChangeDetectorRef,\r\n        private _localeService: LocaleService\r\n    ) {\r\n        this.choosedDate = new EventEmitter();\r\n        this.rangeClicked = new EventEmitter();\r\n        this.datesUpdated = new EventEmitter();\r\n        this.startDateChanged = new EventEmitter();\r\n        this.endDateChanged = new EventEmitter();\r\n        this.cancelClicked = new EventEmitter();\r\n    }\r\n\r\n    ngOnInit() {\r\n        this._buildLocale();\r\n        const daysOfWeek = [...this.locale.daysOfWeek];\r\n        this.locale.firstDay = this.locale.firstDay % 7;\r\n        if (this.locale.firstDay !== 0) {\r\n            let iterator = this.locale.firstDay;\r\n\r\n            while (iterator > 0) {\r\n                daysOfWeek.push(daysOfWeek.shift());\r\n                iterator--;\r\n            }\r\n        }\r\n        this.locale.daysOfWeek = daysOfWeek;\r\n        if (this.inline) {\r\n            this._old.start = this.startDate.clone();\r\n            this._old.end = this.endDate.clone();\r\n        }\r\n\r\n        if (this.startDate && this.timePicker) {\r\n          this.setStartDate(this.startDate);\r\n          this.renderTimePicker(SideEnum.left);\r\n        }\r\n\r\n        if (this.endDate && this.timePicker) {\r\n          this.setEndDate(this.endDate);\r\n          this.renderTimePicker(SideEnum.right);\r\n        }\r\n\r\n        this.updateMonthsInView();\r\n        this.renderCalendar(SideEnum.left);\r\n        this.renderCalendar(SideEnum.right);\r\n        this.renderRanges();\r\n    }\r\n    renderRanges() {\r\n        this.rangesArray = [];\r\n        let start, end;\r\n        if (typeof this.ranges === 'object') {\r\n            for (const range in this.ranges) {\r\n                if (this.ranges[range]) {\r\n                    if (typeof this.ranges[range][0] === 'string') {\r\n                        start = moment(this.ranges[range][0], this.locale.format);\r\n                    } else {\r\n                        start = moment(this.ranges[range][0]);\r\n                    }\r\n                    if (typeof this.ranges[range][1] === 'string') {\r\n                        end = moment(this.ranges[range][1], this.locale.format);\r\n                    } else {\r\n                        end = moment(this.ranges[range][1]);\r\n                    }\r\n                    // If the start or end date exceed those allowed by the minDate or maxSpan\r\n                    // options, shorten the range to the allowable period.\r\n                    if (this.getMinDate() && start.isBefore(this.getMinDate())) {\r\n                        start = this.getMinDate().clone();\r\n                    }\r\n                    let maxDate = this.getMaxDate();\r\n                    if (this.maxSpan && maxDate && start.clone().add(this.maxSpan).isAfter(maxDate)) {\r\n                        maxDate = start.clone().add(this.maxSpan);\r\n                    }\r\n                    if (maxDate && end.isAfter(maxDate)) {\r\n                        end = maxDate.clone();\r\n                    }\r\n                    // If the end of the range is before the minimum or the start of the range is\r\n                    // after the maximum, don't display this range option at all.\r\n                    if ((this.getMinDate() && end.isBefore(this.getMinDate(), this.timePicker ? 'minute' : 'day'))\r\n                    || (maxDate && start.isAfter(maxDate, this.timePicker ? 'minute' : 'day'))) {\r\n                        continue;\r\n                    }\r\n                    // Support unicode chars in the range names.\r\n                    const elem = document.createElement('textarea');\r\n                    elem.innerHTML = range;\r\n                    const rangeHtml = elem.value;\r\n                    this.ranges[rangeHtml] = [start, end];\r\n                }\r\n            }\r\n            for (const range in this.ranges) {\r\n                if (this.ranges[range]) {\r\n                    this.rangesArray.push(range);\r\n                }\r\n            }\r\n            if (this.showCustomRangeLabel) {\r\n                this.rangesArray.push(this.locale.customRangeLabel);\r\n            }\r\n            this.showCalInRanges = (!this.rangesArray.length) || this.alwaysShowCalendars;\r\n            if (!this.timePicker) {\r\n                this.startDate = this.startDate.startOf('day');\r\n                this.endDate = this.endDate.endOf('day');\r\n            }\r\n        }\r\n\r\n    }\r\n    renderTimePicker(side: SideEnum) {\r\n        let selected, minDate;\r\n        const maxDate = this.getMaxDate();\r\n        if (side === SideEnum.left) {\r\n            selected = this.startDate.clone(),\r\n            minDate = this.getMinDate();\r\n        } else if (side === SideEnum.right && this.endDate) {\r\n            selected = this.endDate.clone(),\r\n            minDate = this.startDate;\r\n        } else if (side === SideEnum.right && !this.endDate) {\r\n            // don't have an end date, use the start date then put the selected time for the right side as the time\r\n            selected = this._getDateWithTime(this.startDate, SideEnum.right);\r\n            if(selected.isBefore(this.startDate)){\r\n                selected = this.startDate.clone();  //set it back to the start date the time was backwards\r\n            }\r\n            minDate = this.startDate;\r\n        }\r\n        const start = this.timePicker24Hour ? 0 : 1;\r\n        const end = this.timePicker24Hour ? 23 : 12;\r\n        this.timepickerVariables[side] = {\r\n            hours: [],\r\n            minutes: [],\r\n            minutesLabel: [],\r\n            seconds: [],\r\n            secondsLabel: [],\r\n            disabledHours: [],\r\n            disabledMinutes: [],\r\n            disabledSeconds: [],\r\n            selectedHour: 0,\r\n            selectedMinute: 0,\r\n            selectedSecond: 0,\r\n        };\r\n        // generate hours\r\n        for (let i = start; i <= end; i++) {\r\n            let i_in_24 = i;\r\n            if (!this.timePicker24Hour) {\r\n                i_in_24 = selected.hour() >= 12 ? (i === 12 ? 12 : i + 12) : (i === 12 ? 0 : i);\r\n            }\r\n\r\n            const time = selected.clone().hour(i_in_24);\r\n            let disabled = false;\r\n            if (minDate && time.minute(59).isBefore(minDate)) {\r\n                disabled = true;\r\n            }\r\n            if (maxDate && time.minute(0).isAfter(maxDate)) {\r\n                disabled = true;\r\n            }\r\n\r\n            this.timepickerVariables[side].hours.push(i);\r\n            if (i_in_24 === selected.hour() && !disabled) {\r\n                this.timepickerVariables[side].selectedHour = i;\r\n            } else if (disabled) {\r\n                this.timepickerVariables[side].disabledHours.push(i);\r\n            }\r\n        }\r\n\r\n        // generate minutes\r\n        for (let i = 0; i < 60; i += this.timePickerIncrement) {\r\n            const padded = i < 10 ? '0' + i : i;\r\n            const time = selected.clone().minute(i);\r\n\r\n            let disabled = false;\r\n            if (minDate && time.second(59).isBefore(minDate)) {\r\n                disabled = true;\r\n            }\r\n            if (maxDate && time.second(0).isAfter(maxDate)) {\r\n                disabled = true;\r\n            }\r\n            this.timepickerVariables[side].minutes.push(i);\r\n            this.timepickerVariables[side].minutesLabel.push(padded);\r\n            if (selected.minute() === i && !disabled) {\r\n                this.timepickerVariables[side].selectedMinute = i;\r\n            } else if (disabled) {\r\n                this.timepickerVariables[side].disabledMinutes.push(i);\r\n            }\r\n        }\r\n        // generate seconds\r\n        if (this.timePickerSeconds) {\r\n            for (let i = 0; i < 60; i++) {\r\n                const padded = i < 10 ? '0' + i : i;\r\n                const time = selected.clone().second(i);\r\n\r\n                let disabled = false;\r\n                if (minDate && time.isBefore(minDate)) {\r\n                    disabled = true;\r\n                }\r\n                if (maxDate && time.isAfter(maxDate)) {\r\n                    disabled = true;\r\n                }\r\n\r\n                this.timepickerVariables[side].seconds.push(i);\r\n                this.timepickerVariables[side].secondsLabel.push(padded);\r\n                if (selected.second() === i && !disabled) {\r\n                    this.timepickerVariables[side].selectedSecond = i;\r\n                } else if (disabled) {\r\n                    this.timepickerVariables[side].disabledSeconds.push(i);\r\n                }\r\n            }\r\n        }\r\n        // generate AM/PM\r\n        if (!this.timePicker24Hour) {\r\n\r\n            const am_html = '';\r\n            const pm_html = '';\r\n\r\n            if (minDate && selected.clone().hour(12).minute(0).second(0).isBefore(minDate)) {\r\n                this.timepickerVariables[side].amDisabled = true;\r\n            }\r\n\r\n            if (maxDate && selected.clone().hour(0).minute(0).second(0).isAfter(maxDate)) {\r\n                this.timepickerVariables[side].pmDisabled = true;\r\n            }\r\n            if (selected.hour() >= 12) {\r\n                this.timepickerVariables[side].ampmModel = 'PM';\r\n            } else {\r\n                this.timepickerVariables[side].ampmModel = 'AM';\r\n            }\r\n        }\r\n        this.timepickerVariables[side].selected = selected;\r\n    }\r\n    renderCalendar(side: SideEnum) { // side enum\r\n        const mainCalendar: any = ( side === SideEnum.left ) ? this.leftCalendar : this.rightCalendar;\r\n        const month = mainCalendar.month.month();\r\n        const year = mainCalendar.month.year();\r\n        const hour = mainCalendar.month.hour();\r\n        const minute = mainCalendar.month.minute();\r\n        const second = mainCalendar.month.second();\r\n        const daysInMonth = moment([year, month]).daysInMonth();\r\n        const firstDay = moment([year, month, 1]);\r\n        const lastDay = moment([year, month, daysInMonth]);\r\n        const lastMonth = moment(firstDay).subtract(1, 'month').month();\r\n        const lastYear = moment(firstDay).subtract(1, 'month').year();\r\n        const daysInLastMonth = moment([lastYear, lastMonth]).daysInMonth();\r\n        const dayOfWeek = firstDay.day();\r\n        // initialize a 6 rows x 7 columns array for the calendar\r\n        const calendar: any = [];\r\n        calendar.firstDay = firstDay;\r\n        calendar.lastDay = lastDay;\r\n\r\n        for (let i = 0; i < 6; i++) {\r\n            calendar[i] = [];\r\n        }\r\n\r\n        // populate the calendar with date objects\r\n        let startDay = daysInLastMonth - dayOfWeek + this.locale.firstDay + 1;\r\n        if (startDay > daysInLastMonth) {\r\n            startDay -= 7;\r\n        }\r\n\r\n        if (dayOfWeek === this.locale.firstDay) {\r\n            startDay = daysInLastMonth - 6;\r\n        }\r\n\r\n        let curDate = moment([lastYear, lastMonth, startDay, 12, minute, second]);\r\n\r\n        for (let i = 0, col = 0, row = 0; i < 42; i++, col++, curDate = moment(curDate).add(24, 'hour')) {\r\n            if (i > 0 && col % 7 === 0) {\r\n                col = 0;\r\n                row++;\r\n            }\r\n            calendar[row][col] = curDate.clone().hour(hour).minute(minute).second(second);\r\n            curDate.hour(12);\r\n\r\n            if (this.getMinDate() && calendar[row][col].format('YYYY-MM-DD') === this.getMinDate().format('YYYY-MM-DD') &&\r\n            calendar[row][col].isBefore(this.getMinDate()) && side === 'left') {\r\n                calendar[row][col] = this.getMinDate().clone();\r\n            }\r\n\r\n            if (this.getMaxDate() && calendar[row][col].format('YYYY-MM-DD') === this.getMaxDate().format('YYYY-MM-DD') &&\r\n            calendar[row][col].isAfter(this.getMaxDate()) && side === 'right') {\r\n                calendar[row][col] = this.getMaxDate().clone();\r\n            }\r\n        }\r\n\r\n        // make the calendar object available to hoverDate/clickDate\r\n        if (side === SideEnum.left) {\r\n            this.leftCalendar.calendar = calendar;\r\n        } else {\r\n            this.rightCalendar.calendar = calendar;\r\n        }\r\n        //\r\n        // Display the calendar\r\n        //\r\n        const minDate = side === 'left' ? this.getMinDate() : this.startDate;\r\n        let maxDate = this.getMaxDate();\r\n        // adjust maxDate to reflect the dateLimit setting in order to\r\n        // grey out end dates beyond the dateLimit\r\n        if (this.endDate === null && this.dateLimit) {\r\n            const maxLimit = this.startDate.clone().add(this.dateLimit, 'day').endOf('day');\r\n                if (!maxDate || maxLimit.isBefore(maxDate)) {\r\n                maxDate = maxLimit;\r\n            }\r\n        }\r\n        this.calendarVariables[side] = {\r\n            month: month,\r\n            year: year,\r\n            hour: hour,\r\n            minute: minute,\r\n            second: second,\r\n            daysInMonth: daysInMonth,\r\n            firstDay: firstDay,\r\n            lastDay: lastDay,\r\n            lastMonth: lastMonth,\r\n            lastYear: lastYear,\r\n            daysInLastMonth: daysInLastMonth,\r\n            dayOfWeek: dayOfWeek,\r\n            // other vars\r\n            calRows: Array.from(Array(6).keys()),\r\n            calCols: Array.from(Array(7).keys()),\r\n            classes: {},\r\n            minDate: minDate,\r\n            maxDate: maxDate,\r\n            calendar: calendar\r\n        };\r\n        if (this.showDropdowns) {\r\n            const currentMonth = calendar[1][1].month();\r\n            const currentYear = calendar[1][1].year();\r\n            const realCurrentYear = moment().year();\r\n            const maxYear = (maxDate && maxDate.year()) || (realCurrentYear + 5);\r\n            const minYear = (minDate && minDate.year()) || (realCurrentYear - 50);\r\n            const inMinYear = currentYear === minYear;\r\n            const inMaxYear = currentYear === maxYear;\r\n            const years = [];\r\n            for (let y = minYear; y <= maxYear; y++) {\r\n                years.push(y);\r\n            }\r\n            this.calendarVariables[side].dropdowns = {\r\n                currentMonth: currentMonth,\r\n                currentYear: currentYear,\r\n                maxYear: maxYear,\r\n                minYear: minYear,\r\n                inMinYear: inMinYear,\r\n                inMaxYear: inMaxYear,\r\n                monthArrays: Array.from(Array(12).keys()),\r\n                yearArrays: years\r\n            };\r\n        }\r\n\r\n        this._buildCells(calendar, side);\r\n    }\r\n    setStartDate(startDate) {\r\n        if (typeof startDate === 'string') {\r\n            this.startDate = moment(startDate, this.locale.format);\r\n        }\r\n\r\n        if (typeof startDate === 'object') {\r\n            this.pickingDate = true;\r\n            this.startDate = moment(startDate);\r\n        }\r\n        if (!this.timePicker) {\r\n            this.pickingDate = true;\r\n            this.startDate = this.startDate.startOf('day');\r\n        }\r\n\r\n        if (this.timePicker && this.timePickerIncrement) {\r\n            this.startDate.minute(Math.round(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\r\n        }\r\n\r\n\r\n        if (this.getMinDate() && this.startDate.isBefore(this.getMinDate())) {\r\n            this.startDate = this.getMinDate().clone();\r\n            if (this.timePicker && this.timePickerIncrement) {\r\n                this.startDate.minute(Math.round(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\r\n            }\r\n\r\n        }\r\n\r\n        if (this.getMaxDate() && this.startDate.isAfter(this.getMaxDate())) {\r\n            this.startDate = this.getMaxDate().clone();\r\n            if (this.timePicker && this.timePickerIncrement) {\r\n                this.startDate.minute(Math.floor(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\r\n            }\r\n        }\r\n\r\n        if (!this.isShown) {\r\n            this.updateElement();\r\n        }\r\n        this.startDateChanged.emit({startDate: this.startDate});\r\n        this.updateMonthsInView();\r\n    }\r\n\r\n    setEndDate(endDate) {\r\n        if (typeof endDate === 'string') {\r\n            this.endDate = moment(endDate, this.locale.format);\r\n        }\r\n\r\n        if (typeof endDate === 'object') {\r\n            this.pickingDate = false;\r\n            this.endDate = moment(endDate);\r\n        }\r\n        if (!this.timePicker) {\r\n            this.pickingDate = false;\r\n            this.endDate = this.endDate.add(1, 'd').startOf('day').subtract(1, 'second');\r\n        }\r\n\r\n        if (this.timePicker && this.timePickerIncrement) {\r\n            this.endDate.minute(Math.round(this.endDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\r\n        }\r\n\r\n\r\n        if (this.endDate.isBefore(this.startDate)) {\r\n            this.endDate = this.startDate.clone();\r\n        }\r\n\r\n        if (this.getMaxDate() && this.endDate.isAfter(this.getMaxDate())) {\r\n            this.endDate = this.getMaxDate().clone();\r\n        }\r\n\r\n        if (this.dateLimit && this.startDate.clone().add(this.dateLimit, 'day').isBefore(this.endDate)) {\r\n            this.endDate = this.startDate.clone().add(this.dateLimit, 'day');\r\n        }\r\n\r\n\r\n        if (!this.isShown) {\r\n            // this.updateElement();\r\n        }\r\n        this.endDateChanged.emit({endDate: this.endDate});\r\n        this.updateMonthsInView();\r\n    }\r\n    @Input()\r\n    isInvalidDate(date) {\r\n        return false;\r\n    }\r\n    @Input()\r\n    isCustomDate(date) {\r\n        return false;\r\n    }\r\n    @Input()\r\n    isTooltipDate(date): string {\r\n        return null;\r\n    }\r\n\r\n    updateView() {\r\n        if (this.timePicker) {\r\n            this.renderTimePicker(SideEnum.left);\r\n            this.renderTimePicker(SideEnum.right);\r\n        }\r\n        this.updateMonthsInView();\r\n        this.updateCalendars();\r\n    }\r\n\r\n    updateMonthsInView() {\r\n        if (this.endDate) {\r\n            // if both dates are visible already, do nothing\r\n            if (!this.singleDatePicker && this.leftCalendar.month && this.rightCalendar.month &&\r\n                ((this.startDate && this.leftCalendar && this.startDate.format('YYYY-MM') === this.leftCalendar.month.format('YYYY-MM')) ||\r\n                (this.startDate && this.rightCalendar && this.startDate.format('YYYY-MM') === this.rightCalendar.month.format('YYYY-MM')))\r\n                &&\r\n                (this.endDate.format('YYYY-MM') === this.leftCalendar.month.format('YYYY-MM') ||\r\n                this.endDate.format('YYYY-MM') === this.rightCalendar.month.format('YYYY-MM'))\r\n                ) {\r\n                return;\r\n            }\r\n            if (this.startDate) {\r\n                this.leftCalendar.month = this.startDate.clone().date(2);\r\n                if (!this.linkedCalendars && (this.endDate.month() !== this.startDate.month() ||\r\n                    this.endDate.year() !== this.startDate.year())) {\r\n                    this.rightCalendar.month = this.endDate.clone().date(2);\r\n                } else {\r\n                        this.rightCalendar.month = this.startDate.clone().date(2).add(1, 'month');\r\n                }\r\n            }\r\n\r\n        } else {\r\n            if (this.leftCalendar.month.format('YYYY-MM') !== this.startDate.format('YYYY-MM') &&\r\n            this.rightCalendar.month.format('YYYY-MM') !== this.startDate.format('YYYY-MM')) {\r\n                this.leftCalendar.month = this.startDate.clone().date(2);\r\n                this.rightCalendar.month = this.startDate.clone().date(2).add(1, 'month');\r\n            }\r\n        }\r\n        if (this.getMaxDate() && this.linkedCalendars && !this.singleDatePicker && this.rightCalendar.month > this.getMaxDate()) {\r\n            this.rightCalendar.month = this.getMaxDate().clone().date(2);\r\n            this.leftCalendar.month = this.getMaxDate().clone().date(2).subtract(1, 'month');\r\n        }\r\n    }\r\n    /**\r\n     *  This is responsible for updating the calendars\r\n     */\r\n    updateCalendars() {\r\n        this.renderCalendar(SideEnum.left);\r\n        this.renderCalendar(SideEnum.right);\r\n\r\n        if (this.endDate === null) { return; }\r\n        this.calculateChosenLabel();\r\n    }\r\n    updateElement() {\r\n        const format = this.locale.displayFormat ? this.locale.displayFormat : this.locale.format;\r\n        if (!this.singleDatePicker && this.autoUpdateInput) {\r\n            if (this.startDate && this.endDate) {\r\n                // if we use ranges and should show range label on input\r\n                if (this.rangesArray.length && this.showRangeLabelOnInput === true && this.chosenRange &&\r\n                    this.locale.customRangeLabel !== this.chosenRange) {\r\n                    this.chosenLabel = this.chosenRange;\r\n                } else {\r\n                    this.chosenLabel = this.startDate.format(format) +\r\n                    this.locale.separator + this.endDate.format(format);\r\n                }\r\n            }\r\n        } else if ( this.autoUpdateInput) {\r\n            this.chosenLabel = this.startDate.format(format);\r\n        }\r\n    }\r\n\r\n    remove() {\r\n        this.isShown = false;\r\n    }\r\n    /**\r\n     * this should calculate the label\r\n     */\r\n    calculateChosenLabel () {\r\n        if (!this.locale || !this.locale.separator) {\r\n            this._buildLocale();\r\n        }\r\n        let customRange = true;\r\n        let i = 0;\r\n        if (this.rangesArray.length > 0) {\r\n            for (const range in this.ranges) {\r\n                if (this.ranges[range]) {\r\n                    if (this.timePicker) {\r\n                        const format = this.timePickerSeconds ? 'YYYY-MM-DD HH:mm:ss' : 'YYYY-MM-DD HH:mm';\r\n                        // ignore times when comparing dates if time picker seconds is not enabled\r\n                      if (this.startDate.format(format) === this.ranges[range][0].format(format)\r\n                        && this.endDate.format(format) === this.ranges[range][1].format(format)) {\r\n                            customRange = false;\r\n                            this.chosenRange = this.rangesArray[i];\r\n                            break;\r\n                        }\r\n                    } else {\r\n                        // ignore times when comparing dates if time picker is not enabled\r\n                        if (this.startDate.format('YYYY-MM-DD') === this.ranges[range][0].format('YYYY-MM-DD')\r\n                          && this.endDate.format('YYYY-MM-DD') === this.ranges[range][1].format('YYYY-MM-DD')) {\r\n                            customRange = false;\r\n                            this.chosenRange = this.rangesArray[i];\r\n                            break;\r\n                        }\r\n                    }\r\n                    i++;\r\n                }\r\n            }\r\n            if (customRange) {\r\n                if (this.showCustomRangeLabel) {\r\n                    this.chosenRange = this.locale.customRangeLabel;\r\n                } else {\r\n                    this.chosenRange = null;\r\n                }\r\n                // if custom label: show calendar\r\n                this.showCalInRanges = true;\r\n            }\r\n        }\r\n\r\n        this.updateElement();\r\n    }\r\n\r\n    clickApply(e?) {\r\n              console.log(\"xxx\");\r\n\r\n        if (!this.singleDatePicker && this.startDate && !this.endDate) {\r\n            this.endDate = this._getDateWithTime(this.startDate, SideEnum.right);\r\n\r\n            this.calculateChosenLabel();\r\n        }\r\n        if (this.isInvalidDate && this.startDate && this.endDate) {\r\n            // get if there are invalid date between range\r\n            const d = this.startDate.clone();\r\n            while (d.isBefore(this.endDate)) {\r\n                if (this.isInvalidDate(d)) {\r\n                    this.endDate = d.subtract(1, 'days');\r\n                    this.calculateChosenLabel();\r\n                    break;\r\n                }\r\n                d.add(1, 'days');\r\n            }\r\n        }\r\n        if (this.chosenLabel) {\r\n            this.choosedDate.emit({chosenLabel: this.chosenLabel, startDate: this.startDate, endDate: this.endDate});\r\n        }\r\n\r\n        this.datesUpdated.emit({startDate: this.startDate, endDate: this.endDate});\r\n        if (e || (this.closeOnAutoApply && !e)) {\r\n          this.hide();\r\n        }\r\n    }\r\n\r\n    clickCancel(e) {\r\n        this.startDate = this._old.start;\r\n        this.endDate = this._old.end;\r\n        if (this.inline) {\r\n            this.updateView();\r\n        }\r\n        this.cancelClicked.emit();\r\n        this.hide();\r\n    }\r\n    /**\r\n     * called when month is changed\r\n     * @param monthEvent get value in event.target.value\r\n     * @param side left or right\r\n     */\r\n    monthChanged(monthEvent: any, side: SideEnum) {\r\n        const year = this.calendarVariables[side].dropdowns.currentYear;\r\n        const month = parseInt(monthEvent.target.value, 10);\r\n        this.monthOrYearChanged(month, year, side);\r\n    }\r\n    /**\r\n     * called when year is changed\r\n     * @param yearEvent get value in event.target.value\r\n     * @param side left or right\r\n     */\r\n    yearChanged(yearEvent: any, side: SideEnum) {\r\n        const month = this.calendarVariables[side].dropdowns.currentMonth;\r\n        const year = parseInt(yearEvent.target.value, 10);\r\n        this.monthOrYearChanged(month, year, side);\r\n    }\r\n    /**\r\n     * called when time is changed\r\n     * @param timeEvent  an event\r\n     * @param side left or right\r\n     */\r\n    timeChanged(timeEvent: any, side: SideEnum) {\r\n        let hour = parseInt(this.timepickerVariables[side].selectedHour, 10);\r\n        const minute = parseInt(this.timepickerVariables[side].selectedMinute, 10);\r\n        const second = this.timePickerSeconds ? parseInt(this.timepickerVariables[side].selectedSecond, 10) : 0;\r\n\r\n        if (!this.timePicker24Hour) {\r\n            const ampm = this.timepickerVariables[side].ampmModel;\r\n            if (ampm === 'PM' && hour < 12) {\r\n                hour += 12;\r\n            }\r\n            if (ampm === 'AM' && hour === 12) {\r\n                hour = 0;\r\n            }\r\n        }\r\n\r\n        if (side === SideEnum.left) {\r\n            const start = this.startDate.clone();\r\n            start.hour(hour);\r\n            start.minute(minute);\r\n            start.second(second);\r\n            this.setStartDate(start);\r\n            if (this.singleDatePicker) {\r\n                this.endDate = this.startDate.clone();\r\n            } else if (this.endDate && this.endDate.format('YYYY-MM-DD') === start.format('YYYY-MM-DD') && this.endDate.isBefore(start)) {\r\n                this.setEndDate(start.clone());\r\n            } else if(!this.endDate && this.timePicker){\r\n                const startClone = this._getDateWithTime(start, SideEnum.right);\r\n\r\n                if(startClone.isBefore(start)){\r\n                    this.timepickerVariables[SideEnum.right].selectedHour = hour;\r\n                    this.timepickerVariables[SideEnum.right].selectedMinute = minute;\r\n                    this.timepickerVariables[SideEnum.right].selectedSecond = second;\r\n                }\r\n            }\r\n        } else if (this.endDate) {\r\n            const end = this.endDate.clone();\r\n            end.hour(hour);\r\n            end.minute(minute);\r\n            end.second(second);\r\n            this.setEndDate(end);\r\n        }\r\n\r\n        // update the calendars so all clickable dates reflect the new time component\r\n        this.updateCalendars();\r\n\r\n        // re-render the time pickers because changing one selection can affect what's enabled in another\r\n        this.renderTimePicker(SideEnum.left);\r\n        this.renderTimePicker(SideEnum.right);\r\n\r\n        if (this.autoApply) {\r\n          this.clickApply();\r\n        }\r\n    }\r\n    /**\r\n     *  call when month or year changed\r\n     * @param month month number 0 -11\r\n     * @param year year eg: 1995\r\n     * @param side left or right\r\n     */\r\n    monthOrYearChanged(month: number, year: number, side: SideEnum) {\r\n        const isLeft = side === SideEnum.left;\r\n\r\n        if (!isLeft) {\r\n            if (year < this.startDate.year() || (year === this.startDate.year() && month < this.startDate.month())) {\r\n                month = this.startDate.month();\r\n                year = this.startDate.year();\r\n            }\r\n        }\r\n\r\n        if (this.getMinDate()) {\r\n            if (year < this.getMinDate().year() || (year === this.getMinDate().year() && month < this.getMinDate().month())) {\r\n                month = this.getMinDate().month();\r\n                year = this.getMinDate().year();\r\n            }\r\n        }\r\n\r\n        if (this.getMaxDate()) {\r\n            if (year > this.getMaxDate().year() || (year === this.getMaxDate().year() && month > this.getMaxDate().month())) {\r\n                month = this.getMaxDate().month();\r\n                year = this.getMaxDate().year();\r\n            }\r\n        }\r\n        this.calendarVariables[side].dropdowns.currentYear = year;\r\n        this.calendarVariables[side].dropdowns.currentMonth = month;\r\n        if (isLeft) {\r\n            this.leftCalendar.month.month(month).year(year);\r\n            if (this.linkedCalendars) {\r\n                this.rightCalendar.month = this.leftCalendar.month.clone().add(1, 'month');\r\n            }\r\n        } else {\r\n            this.rightCalendar.month.month(month).year(year);\r\n            if (this.linkedCalendars) {\r\n                this.leftCalendar.month = this.rightCalendar.month.clone().subtract(1, 'month');\r\n            }\r\n        }\r\n        this.updateCalendars();\r\n    }\r\n\r\n    /**\r\n     * Click on previous month\r\n     * @param side left or right calendar\r\n     */\r\n    clickPrev(side: SideEnum) {\r\n        if (side === SideEnum.left) {\r\n            this.leftCalendar.month.subtract(1, 'month');\r\n            if (this.linkedCalendars) {\r\n                this.rightCalendar.month.subtract(1, 'month');\r\n            }\r\n        } else {\r\n            this.rightCalendar.month.subtract(1, 'month');\r\n        }\r\n        this.updateCalendars();\r\n    }\r\n    /**\r\n     * Click on next month\r\n     * @param side left or right calendar\r\n     */\r\n    clickNext(side: SideEnum) {\r\n        if (side === SideEnum.left) {\r\n            this.leftCalendar.month.add(1, 'month');\r\n        } else {\r\n            this.rightCalendar.month.add(1, 'month');\r\n            if (this.linkedCalendars) {\r\n                this.leftCalendar.month.add(1, 'month');\r\n            }\r\n        }\r\n        this.updateCalendars();\r\n    }\r\n\r\n    /**\r\n     * When hovering a date\r\n     * @param e event: get value by e.target.value\r\n     * @param side left or right\r\n     * @param row row position of the current date clicked\r\n     * @param col col position of the current date clicked\r\n     */\r\n    hoverDate(e, side: SideEnum, row: number, col: number) {\r\n      const leftCalDate = this.calendarVariables.left.calendar[row][col];\r\n      const rightCalDate = this.calendarVariables.right.calendar[row][col];\r\n      if (this.pickingDate) {\r\n        this.nowHoveredDate = side === SideEnum.left ? leftCalDate : rightCalDate;\r\n        this.renderCalendar(SideEnum.left);\r\n        this.renderCalendar(SideEnum.right);\r\n      }\r\n      const tooltip = side === SideEnum.left ? this.tooltiptext[leftCalDate] : this.tooltiptext[rightCalDate];\r\n          if (tooltip.length > 0) {\r\n            e.target.setAttribute('title', tooltip);\r\n          }\r\n    }\r\n    /**\r\n     * When selecting a date\r\n     * @param e event: get value by e.target.value\r\n     * @param side left or right\r\n     * @param row row position of the current date clicked\r\n     * @param col col position of the current date clicked\r\n     */\r\n    clickDate(e, side: SideEnum, row: number, col: number) {\r\n        if (e.target.tagName === 'TD') {\r\n            if (!e.target.classList.contains('available')) {\r\n                return;\r\n            }\r\n        } else if (e.target.tagName === 'SPAN') {\r\n            if (!e.target.parentElement.classList.contains('available')) {\r\n                return;\r\n            }\r\n        }\r\n        if (this.rangesArray.length) {\r\n            this.chosenRange = this.locale.customRangeLabel;\r\n        }\r\n\r\n        let date = side ===  SideEnum.left ? this.leftCalendar.calendar[row][col] : this.rightCalendar.calendar[row][col];\r\n\r\n        if ((this.endDate || (date.isBefore(this.startDate, 'day')\r\n          && this.customRangeDirection === false) ) && this.lockStartDate === false) { // picking start\r\n            if (this.timePicker) {\r\n                date = this._getDateWithTime(date, SideEnum.left);\r\n            }\r\n            this.endDate = null;\r\n            this.setStartDate(date.clone());\r\n        }  else if (!this.endDate && date.isBefore(this.startDate) && this.customRangeDirection === false) {\r\n            // special case: clicking the same date for start/end,\r\n            // but the time of the end date is before the start date\r\n            this.setEndDate(this.startDate.clone());\r\n        } else { // picking end\r\n            if (this.timePicker) {\r\n                date = this._getDateWithTime(date, SideEnum.right);\r\n            }\r\n            if (date.isBefore(this.startDate, 'day') === true && this.customRangeDirection === true) {\r\n                this.setEndDate(this.startDate);\r\n                this.setStartDate(date.clone());\r\n            } else {\r\n                this.setEndDate(date.clone());\r\n            }\r\n\r\n            if (this.autoApply) {\r\n                this.calculateChosenLabel();\r\n            }\r\n        }\r\n\r\n        if (this.singleDatePicker) {\r\n            this.setEndDate(this.startDate);\r\n            this.updateElement();\r\n            if (this.autoApply) {\r\n                this.clickApply();\r\n            }\r\n        }\r\n\r\n        this.updateView();\r\n\r\n        if (this.autoApply && this.startDate && this.endDate) {\r\n          this.clickApply();\r\n        }\r\n\r\n        // This is to cancel the blur event handler if the mouse was in one of the inputs\r\n        e.stopPropagation();\r\n\r\n    }\r\n    /**\r\n     *  Click on the custom range\r\n     * @param e: Event\r\n     * @param label\r\n     */\r\n    clickRange(e, label) {\r\n        this.chosenRange = label;\r\n        if (label === this.locale.customRangeLabel) {\r\n            this.isShown  = true; // show calendars\r\n            this.showCalInRanges = true;\r\n        } else {\r\n            const dates = this.ranges[label];\r\n            this.startDate = dates[0].clone();\r\n            this.endDate = dates[1].clone();\r\n            if (this.showRangeLabelOnInput && label !== this.locale.customRangeLabel) {\r\n                this.chosenLabel = label;\r\n            } else {\r\n                this.calculateChosenLabel();\r\n            }\r\n            this.showCalInRanges = (!this.rangesArray.length) || this.alwaysShowCalendars;\r\n\r\n            if (!this.timePicker) {\r\n                this.startDate.startOf('day');\r\n                this.endDate.endOf('day');\r\n            }\r\n\r\n            if (!this.alwaysShowCalendars) {\r\n                this.isShown  = false; // hide calendars\r\n            }\r\n            this.rangeClicked.emit({label: label, dates: dates});\r\n            if (!this.keepCalendarOpeningWithRange || this.autoApply) {\r\n                this.clickApply();\r\n            } else {\r\n                if (!this.alwaysShowCalendars) {\r\n                    return  this.clickApply();\r\n                }\r\n                if (this.getMaxDate() && this.getMaxDate().isSame(dates[0], 'month')) {\r\n                    this.rightCalendar.month.month(dates[0].month());\r\n                    this.rightCalendar.month.year(dates[0].year());\r\n                    this.leftCalendar.month.month(dates[0].month() - 1);\r\n                    this.leftCalendar.month.year(dates[1].year() );\r\n                } else {\r\n                    this.leftCalendar.month.month(dates[0].month());\r\n                    this.leftCalendar.month.year(dates[0].year());\r\n                    // get the next year\r\n                    const nextMonth = dates[0].clone().add(1, 'month');\r\n                    this.rightCalendar.month.month(nextMonth.month());\r\n                    this.rightCalendar.month.year(nextMonth.year() );\r\n                }\r\n                this.updateCalendars();\r\n                if (this.timePicker) {\r\n                    this.renderTimePicker(SideEnum.left);\r\n                    this.renderTimePicker(SideEnum.right);\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n    show(e?) {\r\n        if (this.isShown) { return; }\r\n        this._old.start = this.startDate.clone();\r\n        this._old.end = this.endDate.clone();\r\n        this.isShown = true;\r\n        this.updateView();\r\n    }\r\n\r\n    hide(e?) {\r\n        if (!this.isShown) {\r\n            return;\r\n        }\r\n        // incomplete date selection, revert to last values\r\n        if (!this.endDate) {\r\n            if (this._old.start) {\r\n                this.startDate = this._old.start.clone();\r\n            }\r\n            if (this._old.end) {\r\n                this.endDate = this._old.end.clone();\r\n            }\r\n        }\r\n\r\n        // if a new date range was selected, invoke the user callback function\r\n        if (!this.startDate.isSame(this._old.start) || !this.endDate.isSame(this._old.end)) {\r\n           // this.callback(this.startDate, this.endDate, this.chosenLabel);\r\n        }\r\n\r\n        // if picker is attached to a text input, update it\r\n        this.updateElement();\r\n        this.isShown = false;\r\n        this._ref.detectChanges();\r\n\r\n    }\r\n\r\n    /**\r\n     * handle click on all element in the component, useful for outside of click\r\n     * @param e event\r\n     */\r\n    handleInternalClick(e) {\r\n        e.stopPropagation();\r\n    }\r\n    /**\r\n     * update the locale options\r\n     * @param locale\r\n     */\r\n    updateLocale(locale) {\r\n        for (const key in locale) {\r\n          if (locale.hasOwnProperty(key)) {\r\n            this.locale[key] = locale[key];\r\n            if (key === 'customRangeLabel') {\r\n                this.renderRanges();\r\n            }\r\n          }\r\n        }\r\n    }\r\n    /**\r\n     *  clear the daterange picker\r\n     */\r\n    clear() {\r\n        this.startDate = moment().startOf('day');\r\n        this.endDate = moment().endOf('day');\r\n        this.choosedDate.emit({chosenLabel: '', startDate: null, endDate: null});\r\n        this.datesUpdated.emit({startDate: null, endDate: null});\r\n        this.hide();\r\n    }\r\n\r\n    /**\r\n     * Find out if the selected range should be disabled if it doesn't\r\n     * fit into minDate and maxDate limitations.\r\n     */\r\n    disableRange(range) {\r\n      if (range === this.locale.customRangeLabel) {\r\n        return false;\r\n      }\r\n      const rangeMarkers = this.ranges[range];\r\n      const areBothBefore = rangeMarkers.every( date => {\r\n        if (!this.getMinDate()) {\r\n            return false;\r\n        }\r\n        return date.isBefore(this.getMinDate());\r\n      });\r\n\r\n      const areBothAfter = rangeMarkers.every( date => {\r\n        if (!this.getMaxDate()) {\r\n            return false;\r\n        }\r\n        return date.isAfter(this.getMaxDate());\r\n      });\r\n      return (areBothBefore || areBothAfter);\r\n    }\r\n    /**\r\n     *\r\n     * @param date the date to add time\r\n     * @param side left or right\r\n     */\r\n    private _getDateWithTime(date, side: SideEnum): _moment.Moment {\r\n        let hour = parseInt(this.timepickerVariables[side].selectedHour, 10);\r\n        if (!this.timePicker24Hour) {\r\n            const ampm = this.timepickerVariables[side].ampmModel;\r\n            if (ampm === 'PM' && hour < 12) {\r\n                hour += 12;\r\n            }\r\n            if (ampm === 'AM' && hour === 12) {\r\n                hour = 0;\r\n            }\r\n        }\r\n        const minute = parseInt(this.timepickerVariables[side].selectedMinute, 10);\r\n        const second = this.timePickerSeconds ? parseInt(this.timepickerVariables[side].selectedSecond, 10) : 0;\r\n        return date.clone().hour(hour).minute(minute).second(second);\r\n    }\r\n    /**\r\n     *  build the locale config\r\n     */\r\n    private _buildLocale() {\r\n        this.locale = {...this._localeService.config, ...this.locale};\r\n         if (!this.locale.format) {\r\n            if (this.timePicker) {\r\n                this.locale.format = moment.localeData().longDateFormat('lll');\r\n            } else {\r\n                this.locale.format = moment.localeData().longDateFormat('L');\r\n            }\r\n        }\r\n    }\r\n    private _buildCells(calendar, side: SideEnum) {\r\n        for (let row = 0; row < 6; row++) {\r\n            this.calendarVariables[side].classes[row] = {};\r\n            const rowClasses = [];\r\n            if (\r\n                this.emptyWeekRowClass &&\r\n                Array.from(Array(7).keys()).some(i => calendar[row][i].month() !== this.calendarVariables[side].month)\r\n            ) {\r\n                rowClasses.push(this.emptyWeekRowClass);\r\n            }\r\n            for (let col = 0; col < 7; col++) {\r\n                const classes = [];\r\n                // empty week row class\r\n                if (this.emptyWeekColumnClass) {\r\n                    if (calendar[row][col].month() !== this.calendarVariables[side].month) {\r\n                        classes.push(this.emptyWeekColumnClass);\r\n                    }\r\n                }\r\n                // highlight today's date\r\n                if (calendar[row][col].isSame(new Date(), 'day')) {\r\n                    classes.push('today');\r\n                }\r\n                // highlight weekends\r\n                if (calendar[row][col].isoWeekday() > 5) {\r\n                    classes.push('weekend');\r\n                }\r\n                // grey out the dates in other months displayed at beginning and end of this calendar\r\n                if (calendar[row][col].month() !== calendar[1][1].month()) {\r\n                    classes.push('off');\r\n\r\n                    // mark the last day of the previous month in this calendar\r\n                    if (\r\n                        this.lastDayOfPreviousMonthClass && (calendar[row][col].month() < calendar[1][1].month() ||\r\n                        calendar[1][1].month() === 0) && calendar[row][col].date() === this.calendarVariables[side].daysInLastMonth\r\n                    ) {\r\n                        classes.push(this.lastDayOfPreviousMonthClass);\r\n                    }\r\n\r\n                    // mark the first day of the next month in this calendar\r\n                    if (\r\n                        this.firstDayOfNextMonthClass && (calendar[row][col].month() > calendar[1][1].month() ||\r\n                        calendar[row][col].month() === 0) && calendar[row][col].date() === 1\r\n                    ) {\r\n                        classes.push(this.firstDayOfNextMonthClass);\r\n                    }\r\n                }\r\n                // mark the first day of the current month with a custom class\r\n                if (\r\n                    this.firstMonthDayClass && calendar[row][col].month() === calendar[1][1].month() &&\r\n                    calendar[row][col].date() === calendar.firstDay.date()\r\n                ) {\r\n                    classes.push(this.firstMonthDayClass);\r\n                }\r\n                // mark the last day of the current month with a custom class\r\n                if (\r\n                    this.lastMonthDayClass && calendar[row][col].month() === calendar[1][1].month() &&\r\n                calendar[row][col].date() === calendar.lastDay.date()) {\r\n                    classes.push(this.lastMonthDayClass);\r\n                }\r\n                // don't allow selection of dates before the minimum date\r\n                if (this.getMinDate() && calendar[row][col].isBefore(this.getMinDate(), 'day')) {\r\n                    classes.push('off', 'disabled');\r\n                }\r\n                // don't allow selection of dates after the maximum date\r\n                if (this.calendarVariables[side].maxDate && calendar[row][col].isAfter(this.calendarVariables[side].maxDate, 'day')) {\r\n                    classes.push('off', 'disabled');\r\n                }\r\n                // don't allow selection of date if a custom function decides it's invalid\r\n                if (this.isInvalidDate(calendar[row][col])) {\r\n                    classes.push('off', 'disabled', 'invalid');\r\n                }\r\n                // highlight the currently selected start date\r\n                if (this.startDate && calendar[row][col].format('YYYY-MM-DD') === this.startDate.format('YYYY-MM-DD')) {\r\n                    classes.push('active', 'start-date');\r\n                }\r\n                // highlight the currently selected end date\r\n                if (this.endDate != null && calendar[row][col].format('YYYY-MM-DD') === this.endDate.format('YYYY-MM-DD')) {\r\n                    classes.push('active', 'end-date');\r\n                }\r\n                // highlight dates in-between the selected dates\r\n                if (\r\n                      (\r\n                        (this.nowHoveredDate != null && this.pickingDate) || this.endDate != null\r\n                      ) &&\r\n                      (\r\n                        calendar[row][col] > this.startDate &&\r\n                        (\r\n                          calendar[row][col] < this.endDate || (calendar[row][col] < this.nowHoveredDate && this.pickingDate)\r\n                        )\r\n                      ) &&\r\n                      (\r\n                        !classes.find(el => el === 'off')\r\n                      )\r\n                ) {\r\n                    classes.push('in-range');\r\n                }\r\n                // apply custom classes for this date\r\n                const isCustom = this.isCustomDate(calendar[row][col]);\r\n                if (isCustom !== false) {\r\n                    if (typeof isCustom === 'string') {\r\n                        classes.push(isCustom);\r\n                    } else {\r\n                        Array.prototype.push.apply(classes, isCustom);\r\n                    }\r\n                }\r\n                // apply custom tooltip for this date\r\n                const isTooltip = this.isTooltipDate(calendar[row][col]);\r\n                if (isTooltip) {\r\n                    if (typeof isTooltip === 'string') {\r\n                        this.tooltiptext[calendar[row][col]] = isTooltip; // setting tooltiptext for custom date\r\n                    } else {\r\n                        this.tooltiptext[calendar[row][col]] = 'Put the tooltip as the returned value of isTooltipDate';\r\n                    }\r\n                } else {\r\n                  this.tooltiptext[calendar[row][col]] = '';\r\n                }\r\n                // store classes var\r\n                let cname = '', disabled = false;\r\n                for (let i = 0; i < classes.length; i++) {\r\n                    cname += classes[i] + ' ';\r\n                    if (classes[i] === 'disabled') {\r\n                        disabled = true;\r\n                    }\r\n                }\r\n                if (!disabled) {\r\n                    cname += 'available';\r\n                }\r\n                this.calendarVariables[side].classes[row][col] = cname.replace(/^\\s+|\\s+$/g, '');\r\n            }\r\n            this.calendarVariables[side].classes[row].classList = rowClasses.join(' ');\r\n        }\r\n    }\r\n}\r\n","import {\r\n  Directive,\r\n  ViewContainerRef,\r\n  ComponentFactoryResolver,\r\n  ElementRef,\r\n  HostListener,\r\n  forwardRef,\r\n  ChangeDetectorRef,\r\n  OnInit,\r\n  OnChanges,\r\n  SimpleChanges,\r\n  Input,\r\n  DoCheck,\r\n  KeyValueDiffer,\r\n  KeyValueDiffers,\r\n  Output,\r\n  EventEmitter,\r\n  Renderer2,\r\n  HostBinding\r\n} from '@angular/core';\r\nimport { DaterangepickerComponent } from './daterangepicker.component';\r\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport * as _moment from 'moment';\r\nimport { LocaleConfig } from './daterangepicker.config';\r\nimport { LocaleService } from './locale.service';\r\nconst moment = _moment;\r\n\r\n@Directive({\r\n  selector: 'input[ngxDaterangepickerMd]',\r\n  host: {\r\n    '(keyup.esc)': 'hide()',\r\n    '(blur)': 'onBlur()',\r\n    '(click)': 'open()',\r\n    '(keyup)': 'inputChanged($event)'\r\n  },\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => DaterangepickerDirective), multi: true\r\n    }\r\n]\r\n})\r\nexport class DaterangepickerDirective implements OnInit, OnChanges, DoCheck {\r\n  public picker: DaterangepickerComponent;\r\n  private _onChange = Function.prototype;\r\n  private _onTouched = Function.prototype;\r\n  private _validatorChange = Function.prototype;\r\n  private _disabled: boolean;\r\n  private _value: any;\r\n  private localeDiffer: KeyValueDiffer<string, any>;\r\n  @Input()\r\n  minDate: _moment.Moment\r\n  @Input()\r\n  maxDate: _moment.Moment\r\n  @Input()\r\n  autoApply: boolean;\r\n  @Input()\r\n  alwaysShowCalendars: boolean;\r\n  @Input()\r\n  showCustomRangeLabel: boolean;\r\n  @Input()\r\n  linkedCalendars: boolean;\r\n  @Input()\r\n  dateLimit: number = null;\r\n  @Input()\r\n  singleDatePicker: boolean;\r\n  @Input()\r\n  showWeekNumbers: boolean;\r\n  @Input()\r\n  showISOWeekNumbers: boolean;\r\n  @Input()\r\n  showDropdowns: boolean;\r\n  @Input()\r\n  isInvalidDate: Function;\r\n  @Input()\r\n  isCustomDate: Function;\r\n  @Input()\r\n  isTooltipDate: Function;\r\n  @Input()\r\n  showClearButton: boolean;\r\n  @Input()\r\n  customRangeDirection: boolean;\r\n  @Input()\r\n  ranges: any;\r\n  @Input()\r\n  opens: string;\r\n  @Input()\r\n  drops: string;\r\n  firstMonthDayClass: string;\r\n  @Input()\r\n  lastMonthDayClass: string;\r\n  @Input()\r\n  emptyWeekRowClass: string;\r\n  @Input()\r\n  emptyWeekColumnClass: string;\r\n  @Input()\r\n  firstDayOfNextMonthClass: string;\r\n  @Input()\r\n  lastDayOfPreviousMonthClass: string;\r\n  @Input()\r\n  keepCalendarOpeningWithRange: boolean;\r\n  @Input()\r\n  showRangeLabelOnInput: boolean;\r\n  @Input()\r\n  showCancel: boolean = false;\r\n  @Input()\r\n  lockStartDate: boolean = false;\r\n  // timepicker variables\r\n  @Input()\r\n  timePicker: Boolean = false;\r\n  @Input()\r\n  timePicker24Hour: Boolean = false;\r\n  @Input()\r\n  timePickerIncrement: number = 1;\r\n  @Input()\r\n  timePickerSeconds: Boolean = false;\r\n  @Input() closeOnAutoApply = true;\r\n  _locale: LocaleConfig = {};\r\n  @Input() set locale(value) {\r\n    this._locale = {...this._localeService.config, ...value};\r\n  }\r\n  get locale(): any {\r\n    return this._locale;\r\n  }\r\n  @Input()\r\n  private _endKey: string = 'endDate';\r\n  private _startKey: string = 'startDate';\r\n  @Input() set startKey(value) {\r\n    if (value !== null) {\r\n      this._startKey = value;\r\n    } else {\r\n      this._startKey = 'startDate';\r\n    }\r\n  }\r\n  @Input() set endKey(value) {\r\n    if (value !== null) {\r\n      this._endKey = value;\r\n    } else {\r\n      this._endKey = 'endDate';\r\n    }\r\n  }\r\n  notForChangesProperty: Array<string> = [\r\n    'locale',\r\n    'endKey',\r\n    'startKey'\r\n  ];\r\n\r\n  get value() {\r\n    return this._value || null;\r\n  }\r\n  set value(val) {\r\n    this._value = val;\r\n    this._onChange(val);\r\n    this._changeDetectorRef.markForCheck();\r\n  }\r\n  @Output('change') onChange: EventEmitter<Object> = new EventEmitter();\r\n  @Output('rangeClicked') rangeClicked: EventEmitter<Object> = new EventEmitter();\r\n  @Output('datesUpdated') datesUpdated: EventEmitter<Object> = new EventEmitter();\r\n  @Output() startDateChanged: EventEmitter<Object> = new EventEmitter();\r\n  @Output() endDateChanged: EventEmitter<Object> = new EventEmitter();\r\n  @HostBinding('disabled') get disabled() { return this._disabled; }\r\n  constructor(\r\n    public viewContainerRef: ViewContainerRef,\r\n    public _changeDetectorRef: ChangeDetectorRef,\r\n    private _componentFactoryResolver: ComponentFactoryResolver,\r\n    private _el: ElementRef,\r\n    private _renderer: Renderer2,\r\n    private differs: KeyValueDiffers,\r\n    private _localeService: LocaleService,\r\n    private elementRef: ElementRef\r\n  ) {\r\n    this.drops = 'down';\r\n    this.opens = 'auto';\r\n    const componentFactory = this._componentFactoryResolver.resolveComponentFactory(DaterangepickerComponent);\r\n    viewContainerRef.clear();\r\n    const componentRef = viewContainerRef.createComponent(componentFactory);\r\n    this.picker = (<DaterangepickerComponent>componentRef.instance);\r\n    this.picker.inline = false; // set inline to false for all directive usage\r\n  }\r\n  ngOnInit() {\r\n    this.picker.startDateChanged.asObservable().subscribe((itemChanged: any) => {\r\n      this.startDateChanged.emit(itemChanged);\r\n    });\r\n    this.picker.endDateChanged.asObservable().subscribe((itemChanged: any) => {\r\n      this.endDateChanged.emit(itemChanged);\r\n    });\r\n    this.picker.rangeClicked.asObservable().subscribe((range: any) => {\r\n      this.rangeClicked.emit(range);\r\n    });\r\n    this.picker.datesUpdated.asObservable().subscribe((range: any) => {\r\n      this.datesUpdated.emit(range);\r\n    });\r\n    this.picker.choosedDate.asObservable().subscribe((change: any) => {\r\n      if (change) {\r\n        const value = {};\r\n        value[this._startKey] = change.startDate;\r\n        value[this._endKey] = change.endDate;\r\n        this.value = value;\r\n        this.onChange.emit(value);\r\n        if (typeof change.chosenLabel === 'string') {\r\n          this._el.nativeElement.value = change.chosenLabel;\r\n        }\r\n      }\r\n    });\r\n    this.picker.firstMonthDayClass = this.firstMonthDayClass;\r\n    this.picker.lastMonthDayClass = this.lastMonthDayClass;\r\n    this.picker.emptyWeekRowClass = this.emptyWeekRowClass;\r\n    this.picker.emptyWeekColumnClass = this.emptyWeekColumnClass;\r\n    this.picker.firstDayOfNextMonthClass = this.firstDayOfNextMonthClass;\r\n    this.picker.lastDayOfPreviousMonthClass = this.lastDayOfPreviousMonthClass;\r\n    this.picker.drops = this.drops;\r\n    this.picker.opens = this.opens;\r\n    this.localeDiffer = this.differs.find(this.locale).create();\r\n    this.picker.closeOnAutoApply = this.closeOnAutoApply;\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void  {\r\n    for (const change in changes) {\r\n      if (changes.hasOwnProperty(change)) {\r\n        if (this.notForChangesProperty.indexOf(change) === -1) {\r\n          this.picker[change] = changes[change].currentValue;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  ngDoCheck() {\r\n    if (this.localeDiffer) {\r\n      const changes = this.localeDiffer.diff(this.locale);\r\n      if (changes) {\r\n        this.picker.updateLocale(this.locale);\r\n      }\r\n    }\r\n  }\r\n\r\n  onBlur() {\r\n    this._onTouched();\r\n  }\r\n\r\n  open(event?: any) {\r\n    if (this.disabled) {\r\n      return;\r\n    }\r\n    this.picker.show(event);\r\n    setTimeout(() => {\r\n      this.setPosition();\r\n    });\r\n  }\r\n\r\n  hide(e?) {\r\n    this.picker.hide(e);\r\n  }\r\n  toggle(e?) {\r\n    if (this.picker.isShown) {\r\n      this.hide(e);\r\n    } else {\r\n      this.open(e);\r\n    }\r\n  }\r\n\r\n  clear() {\r\n    this.picker.clear();\r\n  }\r\n\r\n  writeValue(value) {\r\n    this.setValue(value);\r\n  }\r\n  registerOnChange(fn) {\r\n    this._onChange = fn;\r\n  }\r\n  registerOnTouched(fn) {\r\n    this._onTouched = fn;\r\n  }\r\n  setDisabledState(state: boolean): void {\r\n    this._disabled = state;\r\n}\r\n  private setValue(val: any) {\r\n    if (val) {\r\n      this.value = val;\r\n      if (val[this._startKey]) {\r\n        this.picker.setStartDate(val[this._startKey]);\r\n      }\r\n      if (val[this._endKey]) {\r\n        this.picker.setEndDate(val[this._endKey]);\r\n      }\r\n      this.picker.calculateChosenLabel();\r\n      if (this.picker.chosenLabel) {\r\n        this._el.nativeElement.value = this.picker.chosenLabel;\r\n      }\r\n    } else {\r\n      this.picker.clear();\r\n    }\r\n  }\r\n  /**\r\n   * Set position of the calendar\r\n   */\r\n  setPosition() {\r\n    let style;\r\n    let containerTop;\r\n    const container = this.picker.pickerContainer.nativeElement;\r\n    const element = this._el.nativeElement;\r\n    if (this.drops && this.drops === 'up') {\r\n      containerTop = (element.offsetTop - container.clientHeight) + 'px';\r\n    } else {\r\n      containerTop = 'auto';\r\n    }\r\n    if (this.opens === 'left') {\r\n      style = {\r\n          top: containerTop,\r\n          left: (element.offsetLeft - container.clientWidth + element.clientWidth) + 'px',\r\n          right: 'auto'\r\n      };\r\n    } else if (this.opens === 'center') {\r\n        style = {\r\n          top: containerTop,\r\n          left: (element.offsetLeft  +  element.clientWidth / 2\r\n                  - container.clientWidth / 2) + 'px',\r\n          right: 'auto'\r\n        };\r\n    } else if (this.opens === 'right') {\r\n        style = {\r\n          top: containerTop,\r\n          left: element.offsetLeft  + 'px',\r\n          right: 'auto'\r\n        };\r\n    } else {\r\n      const position = element.offsetLeft  +  element.clientWidth / 2 - container.clientWidth / 2;\r\n      if (position < 0) {\r\n        style = {\r\n          top: containerTop,\r\n          left: element.offsetLeft + 'px',\r\n          right: 'auto'\r\n        };\r\n      }\r\n      else {\r\n        style = {\r\n            top: containerTop,\r\n            left: position + 'px',\r\n            right: 'auto'\r\n        };\r\n      }\r\n    }\r\n    if (style) {\r\n      this._renderer.setStyle(container, 'top', style.top);\r\n      this._renderer.setStyle(container, 'left', style.left);\r\n      this._renderer.setStyle(container, 'right', style.right);\r\n    }\r\n  }\r\n  inputChanged(e) {\r\n    if (e.target.tagName.toLowerCase() !== 'input') {\r\n      return;\r\n    }\r\n    if (!e.target.value.length) {\r\n      return;\r\n    }\r\n    const dateString = e.target.value.split(this.picker.locale.separator);\r\n    let start = null, end = null;\r\n    if (dateString.length === 2) {\r\n      start = moment(dateString[0], this.picker.locale.format);\r\n      end = moment(dateString[1], this.picker.locale.format);\r\n    }\r\n    if (this.singleDatePicker || start === null || end === null) {\r\n      start = moment(e.target.value, this.picker.locale.format);\r\n      end = start;\r\n    }\r\n    if (!start.isValid() || !end.isValid()) {\r\n      return;\r\n    }\r\n    this.picker.setStartDate(start);\r\n    this.picker.setEndDate(end);\r\n    this.picker.updateView();\r\n\r\n  }\r\n  /**\r\n   * For click outside of the calendar's container\r\n   * @param event event object\r\n   */\r\n  @HostListener('document:click', ['$event'])\r\n  outsideClick(event): void {\r\n    if (!event.target) {\r\n      return;\r\n    }\r\n\r\n    if (event.target.classList.contains('ngx-daterangepicker-action')) {\r\n      return;\r\n    }\r\n\r\n    if (!this.elementRef.nativeElement.contains(event.target)) {\r\n      this.hide();\r\n    }\r\n  }\r\n}\r\n","import { InjectionToken, Injector } from '@angular/core';\r\nimport * as _moment from 'moment';\r\nconst moment = _moment;\r\n\r\nexport const LOCALE_CONFIG = new InjectionToken<LocaleConfig>('daterangepicker.config');\r\n/**\r\n *  LocaleConfig Interface\r\n */\r\nexport interface LocaleConfig {\r\n    direction?: string;\r\n    separator?: string;\r\n    weekLabel?: string;\r\n    applyLabel?: string;\r\n    cancelLabel?: string;\r\n    clearLabel?: string;\r\n    customRangeLabel?: string;\r\n    daysOfWeek?: string[];\r\n    monthNames?:  string[];\r\n    firstDay?: number;\r\n    format?: string;\r\n    displayFormat?: string;\r\n}\r\n/**\r\n *  DefaultLocaleConfig\r\n */\r\nexport const DefaultLocaleConfig: LocaleConfig = {\r\n    direction: 'ltr',\r\n    separator: ' - ',\r\n    weekLabel: 'W',\r\n    applyLabel: 'Apply',\r\n    cancelLabel: 'Cancel',\r\n    clearLabel: 'Clear',\r\n    customRangeLabel: 'Custom range',\r\n    daysOfWeek: moment.weekdaysMin(),\r\n    monthNames: moment.monthsShort(),\r\n    firstDay: moment.localeData().firstDayOfWeek()\r\n};\r\n","import { Injectable, Inject } from '@angular/core';\r\nimport { LOCALE_CONFIG, DefaultLocaleConfig, LocaleConfig } from './daterangepicker.config';\r\n\r\n@Injectable()\r\nexport class LocaleService {\r\n  constructor(@Inject(LOCALE_CONFIG) private _config: LocaleConfig) {}\r\n\r\n  get config() {\r\n    if (!this._config) {\r\n      return DefaultLocaleConfig;\r\n    }\r\n\r\n    return {... DefaultLocaleConfig, ...this._config};\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport {  ModuleWithProviders, NgModule, Optional, SkipSelf } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule} from '@angular/forms';\r\n\r\nimport { DaterangepickerComponent } from './daterangepicker.component';\r\nimport { DaterangepickerDirective } from './daterangepicker.directive';\r\nimport { LocaleConfig, LOCALE_CONFIG } from './daterangepicker.config';\r\nimport { LocaleService } from './locale.service';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    DaterangepickerComponent,\r\n    DaterangepickerDirective\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  providers: [],\r\n  exports: [\r\n    DaterangepickerComponent,\r\n    DaterangepickerDirective\r\n  ],\r\n  entryComponents: [\r\n    DaterangepickerComponent\r\n  ]\r\n})\r\nexport class NgxDaterangepickerMd {\r\n  constructor() {\r\n  }\r\n  static forRoot(config: LocaleConfig = {}): ModuleWithProviders<NgxDaterangepickerMd> {\r\n    return {\r\n      ngModule: NgxDaterangepickerMd,\r\n      providers: [\r\n        { provide: LOCALE_CONFIG, useValue: config},\r\n        { provide: LocaleService, useClass: LocaleService, deps: [LOCALE_CONFIG]}\r\n      ]\r\n    };\r\n  }\r\n}\r\n"]}